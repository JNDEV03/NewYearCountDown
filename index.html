<html>

<head>
  <title>2023 Countdown</title>
  <link href="https://fonts.googleapis.com/css2?family=Adirek+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background-image: url('fireworks.jpg');
      background-size: cover;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #countdown {
      font-family: 'Adirek Sans', sans-serif;
      font-size: 72px;
      font-weight: bold;
      color: #38B6FF;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)) brightness(100%)
    }

    #message {
      font-family: 'Adirek Sans', sans-serif;
      font-size: 36px;
      color: #2f00ff;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)) brightness(100%)
    }

    #spotify-icon {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 64px;
      height: 64px;
      background-image: url('spotify-icon.png');
      background-size: cover;
      border-radius: 32px;
      cursor: pointer;
    }

    #discord-login {
      position: fixed;
      bottom: 20px;
      right: 100px;
      width: 64px;
      height: 64px;
      background-color: #7289DA;
      border-radius: 32px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #discord-login img {
      width: 32px;
      height: 32px;
    }

    #popup {
      position: fixed;
      top: -100%;
      right: 20px;
      background-color: black;
      border-radius: 8px;
      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      padding: 14px;
      transition: top 0.5s ease-in-out;
      z-index: 1;
    }

    #popup.show {
      top: 20px;
    }

    #popup h1 {
      font-family: 'Adirek Sans', sans-serif;
      font-size: 48px;
      color: #ff7b00;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)) brightness(100%)
    }

    #popup .close {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 24px;
      height: 24px;
      background-color: white;
      border-radius: 12px;
      text-align: center;
      font-family: 'Adirek Sans', sans-serif;
      font-size: 18px;
      color: #38B6FF;
      cursor: pointer;
    }

    #popup .close:before {
      content: "x";
    }
  </style>
</head>

<body>
  <div id="countdown"></div>
  <div id="message"></div>
  <div id="spotify-player">
    <iframe style="border-radius:12px"
      src="https://open.spotify.com/embed/playlist/37i9dQZEVXbMDoHDwVN2tF?utm_source=generator" width="100%"
      height="380" frameBorder="0" allowfullscreen=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
  </div>
  <div id="spotify-icon"></div>
  <div id="popup">
    <h1>Happy 2023!</h1>
    <div class="close"></div>
  </div>
  <script>
    // Set the date we're counting down to
    var targetDate = new Date("Jan 01, 2022 00:00:00");

    // Update the count down every 1 second
    var x = setInterval(function () {

      // Get today's date and time in the viewer's local timezone
      var now = new Date();
      var formatter = new Intl.DateTimeFormat(navigator.language, {
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        timeZone: "UTC"
      });
      var formattedNow = formatter.format(now);
      var nowInLocalTime = new Date(formattedNow);

      // Find the distance between now and the target date
      var distance = targetDate - nowInLocalTime;

      // Time calculations for days, hours, minutes, and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Output the result in an element with id="countdown"
      document.getElementById("countdown").innerHTML = days + "d " + hours + "h "
        + minutes + "m " + seconds + "s ";

      // If the count down is over, show the pop-up window and stop the countdown
      if (distance < 0) {
        clearInterval(x);
        document.getElementById("countdown").innerHTML = "Happy 2023!";
        document.getElementById("message").innerHTML = "";
        document.getElementById("popup").classList.add("show");
      }
    }, 1000);

    // Open the Spotify player in a pop-up window when the icon is clicked
    document.getElementById("spotify-icon").addEventListener("click", function () {
      window.open("https://open.spotify.com/");
    });

    // Close the pop-up window when the close button is clicked
    document.querySelector("#popup .close").addEventListener("click", function () {
      document.getElementById("popup").classList.remove("show");
    });
  </script>
</body>

</html>
